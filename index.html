<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>360 VR Tour</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <!-- A-Frame (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π CDN) -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <!-- Stereo component (side-by-side) - CDN (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è Cardboard / –±–æ–∫-–æ-–±–æ–∫) -->
  <script src="https://unpkg.com/aframe-stereo-component@^3.0.0/dist/aframe-stereo-component.min.js"></script>

  <style>
    html, body { height:100%; margin:0; background:#000; font-family: Arial, sans-serif; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
    /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–≤–µ—Ä—Ö—É */
    .title {
      position: absolute;
      top: 20px;
      width: 100%;
      text-align: center;
      font-size: 2rem;
      font-weight: 800;
      color: #fff;
      text-shadow: 0 0 15px #00ffff;
      z-index: 30;
      pointer-events: none;
    }

    /* –¶–µ–Ω—Ç—Ä: –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–µ–Ω—é */
    .menu {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 40;
      pointer-events: auto;
    }

    .menu-card {
      background: rgba(0,0,0,0.6);
      border: 1px solid rgba(0,255,255,0.2);
      padding: 28px;
      border-radius: 14px;
      text-align: center;
      min-width: 280px;
      color: #fff;
      box-shadow: 0 8px 24px rgba(0,0,0,0.6);
      backdrop-filter: blur(6px);
    }

    .lang-buttons {
      display:flex;
      gap:12px;
      justify-content:center;
      margin-top: 14px;
    }

    .btn {
      background: rgba(0,255,255,0.12);
      color: #fff;
      border: 1px solid rgba(0,255,255,0.28);
      padding: 10px 16px;
      border-radius: 10px;
      cursor:pointer;
      font-weight:700;
      transition: 180ms ease;
    }
    .btn:hover { transform: translateY(-3px); background: rgba(0,255,255,0.22); color:#000; }

    /* –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–æ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞) */
    .instruction-screen {
      position: absolute;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
    }
    .instruction-card {
      background: rgba(0,0,0,0.65);
      border-radius: 12px;
      padding: 20px;
      color:#fff;
      max-width: 720px;
      margin: 20px;
      text-align: center;
      border: 1px solid rgba(0,255,255,0.14);
    }

    .controls-row { margin-top: 18px; display:flex; gap:12px; justify-content:center; flex-wrap:wrap; }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å—Ü–µ–Ω—ã/–ø–ª–µ–µ—Ä–∞ */
    #playerContainer {
      position: absolute;
      inset: 0;
      display: none; /* –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ –∫–ª–∏–∫—É */
      z-index: 1;
      background:black;
    }

    /* –º–∞–ª—ã–µ –∫–Ω–æ–ø–∫–∏ –≤–Ω–∏–∑—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–æ–≤–µ—Ä—Ö —Å—Ü–µ–Ω—ã */
    .top-ui {
      position: absolute;
      right: 12px;
      top: 12px;
      z-index: 50;
      display:flex;
      gap:8px;
    }

    .ui-btn {
      background: rgba(255,255,255,0.08);
      color: #fff;
      border: 1px solid rgba(255,255,255,0.08);
      padding: 8px 10px;
      border-radius: 8px;
      cursor:pointer;
      font-weight:700;
      backdrop-filter: blur(4px);
    }

    /* –∞–¥–∞–ø—Ç–∏–≤ */
    @media (max-width:480px) {
      .title { font-size:1.5rem; top:12px; }
      .menu-card { padding:20px; min-width:240px; }
    }
  </style>
</head>
<body>
  <div class="title">360 VR Tour</div>

  <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –≤—ã–±–æ—Ä–æ–º —è–∑—ã–∫–∞ (—Ü–µ–Ω—Ç—Ä) -->
  <div class="menu" id="mainMenu">
    <div class="menu-card" role="dialog" aria-label="–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é">
      <div style="font-size:1.15rem; margin-bottom:8px;">–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫</div>
      <div class="lang-buttons">
        <button class="btn" onclick="selectLang('ru')">üá∑üá∫ –†—É—Å</button>
        <button class="btn" onclick="selectLang('en')">üá¨üáß Eng</button>
        <button class="btn" onclick="selectLang('uz')">üá∫üáø O‚Äòz</button>
      </div>
      <div style="margin-top:14px; font-size:0.9rem; color:#bfeef3;">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —è–∑—ã–∫, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å</div>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞) -->
  <div class="instruction-screen" id="instructionScreen">
    <div class="instruction-card">
      <div id="instructionTitle" style="font-size:1.2rem; font-weight:800; margin-bottom:10px;">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</div>
      <div id="instructionText" style="font-size:1rem; line-height:1.5;">
        <!-- —Ç–µ–∫—Å—Ç –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º -->
      </div>

      <div class="controls-row">
        <button class="btn" onclick="backToMenu()">‚óÄ –ù–∞–∑–∞–¥</button>
        <button class="btn" id="watchBtn" onclick="openPlayer()">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å ‚ñ∂</button>
      </div>

      <div style="margin-top:12px; font-size:0.85rem; color:#a8f3f8;">
        –°–æ–≤–µ—Ç: –¥–ª—è Cardboard ‚Äî –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –≤ —à–ª–µ–º –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É VR (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å WebXR).
      </div>
    </div>
  </div>

  <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–ª–µ–µ—Ä–∞ / —Å—Ü–µ–Ω—ã -->
  <div id="playerContainer">
    <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–≤–µ—Ä—Ö —Å—Ü–µ–Ω—ã -->
    <div class="top-ui">
      <button class="ui-btn" onclick="toggleMute()" id="muteBtn">üîà –úute</button>
      <button class="ui-btn" onclick="enterCardboard()">üì± VR</button>
      <button class="ui-btn" onclick="exitPlayer()">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <!-- –í–∏–¥–µ–æ (HTML5) - –ø—Ä—è–º–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <video id="plainVideo" src="https://files.catbox.moe/hqn35y.mp4"
           crossorigin="anonymous" playsinline webkit-playsinline controls
           style="display:none;"></video>

    <!-- A-Frame —Å—Ü–µ–Ω–∞: videosphere -->
    <a-scene id="aframeScene" embedded vr-mode-ui="enabled: true" background="color: #000" renderer="antialias: true; colorManagement: true;">
      <a-assets>
        <!-- –≤–∏–¥–µ–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ asset -->
        <video id="vrVideo" src="https://files.catbox.moe/hqn35y.mp4"
               crossorigin="anonymous" playsinline webkit-playsinline preload="auto"></video>
      </a-assets>

      <!-- –ö–∞–º–µ—Ä–∞ ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω look-controls —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π gyroscope/deviceorientation -->
      <a-entity id="cameraRig">
        <a-entity id="camera" camera look-controls="enabled: true; magicWindowTrackingEnabled: true" position="0 1.6 0"></a-entity>
      </a-entity>

      <!-- videosphere: –∑–¥–µ—Å—å –ø–æ–¥–∫–ª—é—á–∞–µ–º –≤–∏–¥–µ–æ –∫–∞–∫ —Ç–µ–∫—Å—Ç—É—Ä—É.
           –î–æ–±–∞–≤–ª–µ–Ω stereo-component (–µ—Å–ª–∏ CDN-—Å–∫—Ä–∏–ø—Ç –¥–æ—Å—Ç—É–ø–µ–Ω, –æ–Ω –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å side-by-side –≤ VR) -->
      <a-videosphere id="videoSphere" src="#vrVideo" rotation="0 -90 0"></a-videosphere>

      <!-- –Ω–µ–±–æ–ª—å—à–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å —Ü–µ–Ω—Ç—Ä–∞ (–Ω—É–∂–Ω–æ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏) -->
      <a-entity position="0 1.6 -1">
        <a-ring color="#00ffff" radius-inner="0.005" radius-outer="0.01" rotation="-90 0 0"></a-ring>
      </a-entity>
    </a-scene>
  </div>

  <script>
    // –¢–µ–∫—Å—Ç—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö
    const texts = {
      ru: {
        title: "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è",
        instr: "–ò—Å–ø–æ–ª—å–∑—É–π –º—ã—à—å –Ω–∞ –ü–ö –∏–ª–∏ –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–π —Ç–µ–ª–µ—Ñ–æ–Ω, —á—Ç–æ–±—ã –æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è –≤–æ–∫—Ä—É–≥. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É ¬´VR¬ª –≤–≤–µ—Ä—Ö—É, —á—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ —Ä–µ–∂–∏–º Cardboard. –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞—Ç—á–∏–∫–∞–º –¥–≤–∏–∂–µ–Ω–∏—è (–≥–∏—Ä–æ—Å–∫–æ–ø/–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è).",
        watch: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å",
        back: "–ù–∞–∑–∞–¥"
      },
      en: {
        title: "Instructions",
        instr: "Use your mouse on desktop or move your phone to look around. Tap the 'VR' button at the top to enter Cardboard mode. On mobile devices you might need to grant motion sensor permission (gyroscope/orientation).",
        watch: "Watch",
        back: "Back"
      },
      uz: {
        title: "Ko‚Äòrsatmalar",
        instr: "Kompyuterda sichqonchadan foydalaning yoki telefonda aylantiring ‚Äî atrofni ko‚Äòring. Cardboard rejimiga o‚Äòtish uchun yuqori 'VR' tugmasini bosing. Mobil qurilmalarda harakat sensori uchun ruxsat talab qilinishi mumkin.",
        watch: "Ko‚Äòrish",
        back: "Orqaga"
      }
    };

    let currentLang = 'ru';
    const mainMenu = document.getElementById('mainMenu');
    const instructionScreen = document.getElementById('instructionScreen');
    const instructionText = document.getElementById('instructionText');
    const instructionTitle = document.getElementById('instructionTitle');
    const watchBtn = document.getElementById('watchBtn');

    // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞
    function selectLang(lang) {
      currentLang = lang;
      // –ø–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
      instructionTitle.innerText = texts[lang].title;
      instructionText.innerText = texts[lang].instr;
      watchBtn.innerText = texts[lang].watch;
      mainMenu.style.display = 'none';
      instructionScreen.style.display = 'flex';

      // –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ DeviceOrientation (iOS >=13)
      requestDeviceOrientationPermissionIfNeeded();
    }

    function backToMenu(){
      instructionScreen.style.display = 'none';
      mainMenu.style.display = 'flex';
    }

    // –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–ª–µ–µ—Ä –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –≤–∏–¥–µ–æ
    async function openPlayer() {
      instructionScreen.style.display = 'none';
      document.getElementById('playerContainer').style.display = 'block';

      // –ü–æ–ª—É—á–∞–µ–º –≤–∏–¥–µ–æ asset –∏ –∑–∞–ø—É—Å–∫–∞–µ–º autoplay (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã —Ç—Ä–µ–±—É—é—Ç user interaction)
      const vrVideo = document.getElementById('vrVideo');
      try {
        // —Å–±—Ä–æ—Å –≤—Ä–µ–º–µ–Ω–∏ –∫ –Ω–∞—á–∞–ª—É, –≤–∫–ª—é—á–∞–µ–º loop
        vrVideo.loop = true;
        vrVideo.currentTime = 0;
        await vrVideo.play().catch(err => {
          // –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç—å –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —ç–ª–µ–º–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ ‚Äî –ø–æ–∫–∞–∂–µ–º controls –≤—Ä–µ–º–µ–Ω–Ω–æ
          console.warn('Autoplay failed:', err);
          vrVideo.setAttribute('controls', 'true');
        });
      } catch(e) {
        console.error('Video play error', e);
      }

      // –°–ø—Ä—è—á–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π HTML video (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ texture)
      const plain = document.getElementById('plainVideo');
      plain.style.display = 'none';

      // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ A-Frame —Å—Ü–µ–Ω–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç (–∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –Ω–µ–±–æ–ª—å—à–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ)
      const scene = document.querySelector('a-scene');
      if (scene && !scene.hasLoaded) {
        scene.addEventListener('loaded', () => {
          // —Å—Ü–µ–Ω–∞ –≥–æ—Ç–æ–≤–∞
        });
      }

      // –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤–∫–ª—é—á–∏—Ç—å stereo —Ä–µ–∂–∏–º –¥–ª—è Cardboard ‚Äî –µ—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω
      try {
        const sphere = document.getElementById('videoSphere');
        // –ï—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç "stereo" —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî –ø—Ä–∏–º–µ–Ω–∏–º (side-by-side)
        if (AFRAME.components && AFRAME.components.stereo) {
          // –í–∫–ª—é—á–∞–µ–º —Ä–µ–∂–∏–º –±–æ–∫-–æ-–±–æ–∫ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ VR –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
          sphere.setAttribute('stereo', 'enabled: true');
        }
      } catch(e){}
    }

    // –ó–∞–∫—Ä—ã—Ç—å –ø–ª–µ–µ—Ä –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é
    function exitPlayer() {
      // –æ—Å—Ç–∞–Ω–æ–≤–∏–º –≤–∏–¥–µ–æ
      const vrVideo = document.getElementById('vrVideo');
      try { vrVideo.pause(); vrVideo.currentTime = 0; } catch(e){}
      document.getElementById('playerContainer').style.display = 'none';
      // –≤–µ—Ä–Ω–µ–º—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
      mainMenu.style.display = 'flex';
    }

    // –í—Ö–æ–¥ –≤ Cardboard / VR
    function enterCardboard() {
      const sceneEl = document.querySelector('a-scene');
      if (!sceneEl) return;
      // –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ A-Frame
      if (sceneEl.is('vr-mode')) {
        // —É–∂–µ –≤ VR
        return;
      }
      // –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–∫—Ä—ã—Ç—å WebXR / VR
      sceneEl.enterVR();
    }

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–∞
    function toggleMute() {
      const vrVideo = document.getElementById('vrVideo');
      const btn = document.getElementById('muteBtn');
      vrVideo.muted = !vrVideo.muted;
      btn.innerText = vrVideo.muted ? 'üîá Muted' : 'üîà Unmuted';
    }

    // –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –¥–∞—Ç—á–∏–∫–∞–º –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ (iOS 13+)
    function requestDeviceOrientationPermissionIfNeeded() {
      // –ï—Å–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–ºa iOS —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
      const isIOS = /iP(hone|od|ad)/.test(navigator.platform) || (navigator.userAgent.includes("Mac") && 'ontouchend' in document);
      if (isIOS && typeof DeviceOrientationEvent !== 'undefined' && typeof DeviceOrientationEvent.requestPermission === 'function') {
        DeviceOrientationEvent.requestPermission()
          .then(response => {
            if (response === 'granted') {
              console.log('Device orientation permission granted.');
            } else {
              console.warn('Device orientation permission denied.');
            }
          })
          .catch(err => {
            console.warn('DeviceOrientation permission error:', err);
          });
      } else {
        // –î–ª—è Android/–ø—Ä–æ—á–∏—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ –æ–±—ã—á–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
      }
    }

    // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    document.addEventListener('DOMContentLoaded', () => {
      instructionText.innerText = texts[currentLang].instr;
      instructionTitle.innerText = texts[currentLang].title;
      watchBtn.innerText = texts[currentLang].watch;
    });

    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ö–∞–∫: –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ VR ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å stereo –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –≤–∫–ª—é—á–∏–º –µ–≥–æ.
    document.addEventListener('enter-vr', () => {
      try {
        const sphere = document.getElementById('videoSphere');
        if (AFRAME.components && AFRAME.components.stereo) {
          sphere.setAttribute('stereo', 'enabled: true');
        }
      } catch(e){}
    });

    // –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ VR ‚Äî –æ—Ç–∫–ª—é—á–∞–µ–º stereo (—á—Ç–æ–±—ã –≤ –º–æ–Ω–∏—Ç–æ—Ä–µ –Ω–µ –±—ã–ª–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è)
    document.addEventListener('exit-vr', () => {
      try {
        const sphere = document.getElementById('videoSphere');
        if (AFRAME.components && AFRAME.components.stereo) {
          sphere.setAttribute('stereo', 'enabled: false');
        }
      } catch(e){}
    });

    // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ø–ª–µ–π–µ—Ä, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª –ø—Ä—è–º–æ –Ω–∞ —Å–µ–Ω—Å–æ—Ä–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (—É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —à–∞–Ω—Å autoplay)
    document.addEventListener('click', () => {
      const scene = document.querySelector('a-scene');
      if (scene && scene.hasLoaded) {
        // –Ω–∏—á–µ–≥–æ
      }
    }, { once: true });
  </script>
</body>
</html>
